<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Last.fm Session Key Generator</title>
	<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
	<link rel="alternate icon" href="/favicon.svg" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="page">
      <section class="card" role="region" aria-labelledby="title">
        <header class="card__header">
          <h1 id="title" class="title">Last.fm Session Key Generator</h1>
          <p class="subtitle">
            Generate a session key to authenticate Last.fm API requests.
          </p>
        </header>

        <ol class="steps">
          <li class="step">
            <h3 class="step__title">1. Create an API application</h3>
            <p class="muted">
              Visit
              <a
                href="https://www.last.fm/api/account/create"
                target="_blank"
                rel="noopener"
                class="link"
                >last.fm/api/account/create</a
              >
              to get your API Key and Shared Secret.
            </p>
          </li>

          <li class="step">
            <h3 class="step__title">2. Enter your credentials</h3>
            <div class="grid">
              <div class="input-group">
                <label for="apiKey">API Key</label>
                <input
                  type="text"
                  id="apiKey"
                  autocomplete="off"
                  placeholder="Your API Key"
                  aria-describedby="apiKeyError"
                />
                <small id="apiKeyError" class="error-text" role="alert"></small>
              </div>

              <div class="input-group">
                <label for="sharedSecret">Shared Secret</label>
                <div class="password-wrap">
                  <input
                    type="password"
                    id="sharedSecret"
                    autocomplete="off"
                    placeholder="Your Shared Secret"
                    aria-describedby="secretError"
                  />
                  <button
                    type="button"
                    class="icon-btn"
                    id="toggleSecret"
                    aria-label="Show secret"
                    title="Show/Hide"
                  >
                    üëÅÔ∏è
                  </button>
                </div>
                <small id="secretError" class="error-text" role="alert"></small>
              </div>
            </div>
          </li>

          <li class="step">
            <h3 class="step__title">3. Authorize and fetch</h3>
            <p class="muted">
              You‚Äôll be redirected to Last.fm to grant access, then sent back
              here automatically.
            </p>

            <button class="btn btn-accent" id="authorizeBtn">
              Authorize with Last.fm
            </button>

            <div class="loading" id="loading" aria-live="polite">
              <div class="spinner" aria-hidden="true"></div>
              <p>Generating session key‚Ä¶</p>
            </div>

            <div class="toast toast--error" id="error" role="alert"></div>

            <div class="result" id="result" aria-live="polite">
              <h3 class="result__title">Session key</h3>
              <pre class="code-block"><code id="sessionKeyOutput"></code></pre>
              <div class="actions">
                <button class="btn btn-secondary" id="copyBtn">
                  Copy to clipboard
                </button>
                <button class="btn btn-ghost" id="resetBtn">Reset</button>
              </div>
              <p class="note muted">
                Keep this key secret. It‚Äôs stored nowhere server-side.
              </p>
            </div>
          </li>
        </ol>

        <footer class="footer muted">
          No servers. Runs in your browser.
        </footer>
      </section>
    </main>

    <script src="script.js" defer></script>
  </body>
</html>